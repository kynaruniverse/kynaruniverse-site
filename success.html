<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Security-Policy" content="
  default-src 'self'; 
  script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net https://assets.lemonsqueezy.com; 
  style-src 'self' 'unsafe-inline'; 
  img-src 'self' data: https:; 
  font-src 'self';
  connect-src 'self' https://formspree.io https://*.lemonsqueezy.com;
">
    <meta name="robots" content="index, follow">
    <meta name="author" content="Kynar Studio">
    <link rel="canonical" href="https://www.kynaruniverse.co.uk/CURRENT_PAGE.html">

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Verification Successful | Kynar Studio</title>

    <link href="styles.css" rel="stylesheet" />
    <script type="module" src="ui-core.js"></script>

    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.29/bundled/lenis.min.js"></script>

    <style>
      /* Unique Success Animation */
      @keyframes ripple { 
        0% { transform: scale(0.8); opacity: 0.4; } 
        100% { transform: scale(1.8); opacity: 0; } 
      }
      .success-icon-wrap { position: relative; width: 100px; height: 100px; margin: 0 auto 30px; display: flex; align-items: center; justify-content: center; }
      .ripple-ring { border: 2px solid var(--color-accent); border-radius: 50%; inset: 0; opacity: 0.2; position: absolute; animation: ripple 2s infinite; }
    </style>
  </head>

  <body>
    <header class="app-header" id="global-header"></header>

    <main class="container flex-col flex-center text-center" style="min-height: 85vh;">
      <div class="reveal-up" style="max-width: 500px; width: 100%;">
        
        <div class="success-icon-wrap">
          <div class="ripple-ring"></div>
          <div style="font-size: 3.5rem; position: relative; z-index: 2;">‚ú®</div>
        </div>

        <span id="success-label" class="text-accent text-upper text-bold text-xs" style="letter-spacing: 0.25em; display: block; margin-bottom: 15px;">Signal Verified</span>

        <h1 id="success-title" style="margin-bottom: 20px;">
          Welcome to <br><span class="text-faded">The Shop.</span>
        </h1>

        <p id="success-text" class="text-sm" style="margin-bottom: 40px;">
          Authorization successful. Your digital profile has been updated. Check your inbox for your welcome package.
        </p>

        <div id="action-stack" class="flex-col gap-sm w-full">
          
          <div class="card flex-row gap-lg" style="padding: 24px; align-items: center;">
            <div style="font-size: 1.5rem">üì•</div>
            <div class="text-left">
              <div class="text-accent text-upper text-bold text-xs" style="letter-spacing: 0.1em; margin-bottom: 4px;">Primary Action</div>
              <div id="action-text" class="text-bold">Initializing delivery...</div>
            </div>
          </div>

          <a class="card flex-row gap-lg" href="contact.html" style="padding: 24px; align-items: center; text-decoration: none;">
            <div style="font-size: 1.5rem">ü§ù</div>
            <div class="text-left">
              <div class="text-accent text-upper text-bold text-xs" style="letter-spacing: 0.1em; margin-bottom: 4px;">Concierge</div>
              <div class="text-bold">Need technical help? ‚Üí</div>
            </div>
          </a>

        </div>

        <a class="btn btn--primary w-full" href="shop.html" style="margin-top: 40px;" onclick="localStorage.removeItem('kynar_cart');">Initialize New Session</a>

      </div>
    </main>

    <footer id="global-footer"></footer>
    
        <script type="module">
      import { getProduct } from './src/data/vault.js';
      document.addEventListener("DOMContentLoaded", () => {
        const params = new URLSearchParams(window.location.search);
        const type = params.get("type");
        const productId = params.get("id");

        if (type === "order") {
          const product = getProduct(productId);
          const pName = product ? product.title : "Digital Assets";
          
          document.getElementById("success-label").textContent = "Order Confirmed";
          document.getElementById("success-title").innerHTML = `${pName} <br><span class="text-faded">Are Ready.</span>`;
          document.getElementById("success-text").textContent = "Your payment was successful. A unique download key has been dispatched to your email.";
          
          setTimeout(() => {
            document.getElementById("action-text").innerHTML = "Secure Link Dispatched <span class='text-accent'>‚óè</span>";
          }, 2000);
        }

        // Haptic & Visuals
        if (navigator.vibrate) setTimeout(() => navigator.vibrate([40, 40, 150]), 600);
        setTimeout(() => document.querySelector('.reveal-up').classList.add('reveal-visible'), 100);
      });
    </script>

  </body>
</html>
