<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Collection | Kynaruniverse</title>
    
    <link rel="stylesheet" href="styles.css">
    
    <script src="https://assets.lemonsqueezy.com/lemon.js" defer></script>
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.29/bundled/lenis.min.js"></script>

    <style>
        .filter-bar {
            display: flex; gap: 12px; overflow-x: auto; padding-bottom: 20px;
            margin-bottom: 40px; scrollbar-width: none;
        }
        .filter-bar::-webkit-scrollbar { display: none; }
        
        .filter-chip {
            padding: 8px 20px; border-radius: 50px; border: 1px solid rgba(15, 61, 48, 0.2);
            background: transparent; color: var(--ink-deep); font-family: var(--font-body);
            font-size: 0.9rem; font-weight: 600; cursor: pointer; white-space: nowrap;
            transition: all 0.2s ease;
        }
        .filter-chip.active, .filter-chip:hover {
            background: var(--ink-deep); color: white; border-color: var(--ink-deep);
        }
        
        .empty-state {
            grid-column: 1 / -1; text-align: center; padding: 60px 0;
            display: none; color: var(--ink-medium);
        }
    </style>
</head>
<body>

    <header class="app-header">
        <button class="nav-icon" onclick="window.location.href='index.html'" aria-label="Back">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>
        </button>

        <span style="font-family: 'Bantayog'; font-size: 1.5rem; color: var(--ink-deep);">COLLECTION</span>

        <button class="nav-icon" onclick="LemonSqueezy.Url.OpenCheckout('https://store.kynaruniverse.com/checkout')" aria-label="Cart">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path></svg>
        </button>
    </header>

    <main class="container">
        
        <div class="reveal-up" style="margin-top: 40px;">
            <h1>Archive</h1>
            <p>Select a category to filter.</p>
        </div>

        <div class="filter-bar reveal-up" id="filterContainer">
            <button class="filter-chip active" onclick="filterGrid('all', this)">View All</button>
            <button class="filter-chip" onclick="filterGrid('planner', this)">Planners</button>
            <button class="filter-chip" onclick="filterGrid('code', this)">Code</button>
            <button class="filter-chip" onclick="filterGrid('creative', this)">Creative</button>
        </div>

        <div class="gallery-grid" id="productGrid">
            
            <article class="product-card reveal-up" data-category="planner">
                <span class="tag">Notion</span>
                <a href="product.html?id=universe-os" class="card-image" style="background-color: var(--pastel-sage); text-decoration: none;">
                    <img src="assets/images/planner-mockup.png" alt="Universe OS" onerror="this.style.opacity='0.1'">
                </a>
                <div class="card-info">
                    <h3 class="card-title">Universe OS</h3>
                    <p style="font-size: 0.9rem; margin-bottom: 12px;">Life Operating System.</p>
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <span class="card-price">$29.00</span>
                        <a href="product.html?id=universe-os" class="btn-ghost" style="padding: 8px 16px; font-size: 0.8rem;">View</a>
                    </div>
                </div>
            </article>

            <article class="product-card reveal-up" data-category="creative">
                <span class="tag">Asset Pack</span>
                <a href="product.html?id=creator-bundle" class="card-image" style="background-color: var(--pastel-clay); text-decoration: none;">
                    <img src="assets/images/creative-mockup.png" alt="Creator Bundle" onerror="this.style.opacity='0.1'">
                </a>
                <div class="card-info">
                    <h3 class="card-title">Creator Bundle</h3>
                    <p style="font-size: 0.9rem; margin-bottom: 12px;">200+ High-res assets.</p>
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <span class="card-price">$45.00</span>
                        <a href="product.html?id=creator-bundle" class="btn-ghost" style="padding: 8px 16px; font-size: 0.8rem;">View</a>
                    </div>
                </div>
            </article>

            <article class="product-card reveal-up" data-category="code">
                <span class="tag">Next.js</span>
                <a href="product.html?id=saas-starter" class="card-image" style="background-color: var(--pastel-sky); text-decoration: none;">
                    <img src="assets/images/code-mockup.png" alt="SaaS Starter" onerror="this.style.opacity='0.1'">
                </a>
                <div class="card-info">
                    <h3 class="card-title">SaaS Starter</h3>
                    <p style="font-size: 0.9rem; margin-bottom: 12px;">Boilerplate for founders.</p>
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <span class="card-price">$69.00</span>
                        <a href="product.html?id=saas-starter" class="btn-ghost" style="padding: 8px 16px; font-size: 0.8rem;">View</a>
                    </div>
                </div>
            </article>

             <article class="product-card reveal-up" data-category="planner">
                <span class="tag">PDF</span>
                <a href="product.html?id=finance-tracker" class="card-image" style="background-color: var(--pastel-sage); text-decoration: none;">
                    <img src="assets/images/finance-mockup.png" alt="Finance Tracker" onerror="this.style.opacity='0.1'">
                </a>
                <div class="card-info">
                    <h3 class="card-title">Finance Tracker</h3>
                    <p style="font-size: 0.9rem; margin-bottom: 12px;">Spreadsheet automation.</p>
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <span class="card-price">$15.00</span>
                        <a href="product.html?id=finance-tracker" class="btn-ghost" style="padding: 8px 16px; font-size: 0.8rem;">View</a>
                    </div>
                </div>
            </article>

            <div class="empty-state" id="emptyState">
                <h3>No assets found in this category.</h3>
            </div>

        </div>
    </main>

    <script src="ui-core.js"></script>
    <script>
        // Simple client-side filtering logic
        function filterGrid(category, btn) {
            // 1. Update Buttons
            document.querySelectorAll('.filter-chip').forEach(el => el.classList.remove('active'));
            btn.classList.add('active');

            // 2. Filter Cards
            const cards = document.querySelectorAll('.product-card');
            let visibleCount = 0;

            cards.forEach(card => {
                if (category === 'all' || card.dataset.category === category) {
                    card.style.display = 'flex';
                    visibleCount++;
                    // Re-trigger animation
                    card.classList.remove('reveal-visible');
                    setTimeout(() => card.classList.add('reveal-visible'), 50);
                } else {
                    card.style.display = 'none';
                }
            });

            // 3. Toggle Empty State
            const empty = document.getElementById('emptyState');
            if (visibleCount === 0) {
                empty.style.display = 'block';
            } else {
                empty.style.display = 'none';
            }
        }
    </script>
</body>
</html>
